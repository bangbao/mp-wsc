require("../../common/manifest.js");
require("../../common/vendor.js");
global.webpackJsonp([13],{53:function(t,e,n){"use strict";var a=s(n(2)),i=s(n(54));function s(t){return t&&t.__esModule?t:{default:t}}Page((0,a.default)(i.default))},54:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(56),i=n.n(a),s=n(57),o=!1;var l=function(t){o||n(55)},c=n(0)(i.a,s.a,l,null,null);c.options.__file="..\\..\\..\\..\\data\\work\\ShareChat\\uniapp\\pages\\task\\add.vue",c.esModule&&Object.keys(c.esModule).some(function(t){return"default"!==t&&"__"!==t.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),c.options.functional&&console.error("[vue-loader] add.vue: functional components are not supported with templates, they should use render functions."),e.default=c.exports},55:function(t,e){},56:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{titleMinLen:2,titleMaxLen:20,contentMinLen:2,contentMaxLen:100,titlePlaceHolderMsg:"标题字数为2~20字",contentPlaceHolderMsg:"内容字数为2~100字",taskInfo:{stime:null,etime:null,title:"",content:""}}},onLoad:function(t){this.resetPageData()},methods:{resetPageData:function(){var t=this.app,e={stime:t.getToday(),etime:t.getDeltaDay(1),title:"",content:""};this.taskInfo=e},bindChangeValue:function(t){var e=t.detail.value,n=t.currentTarget.dataset.name;this.taskInfo[n]=e},applySubmit:function(e){var n=this,a=this.taskInfo,i=a.title.length,s=a.content.length;if(console.log(i,s),i<this.titleMinLen|i>this.titleMaxLen)t.showToast({title:this.titlePlaceHolderMsg,icon:"none"});else if(s<this.contentMinLen|s>this.contentMaxLen)t.showToast({title:this.contentPlaceHolderMsg,icon:"none"});else if(a.stime>a.etime)t.showToast({title:"有效期中开始时间不能小于结束时间",icon:"none"});else{this.app.httpPost("/api/task/add",a,function(e){var a=e.data.data.id;t.showModal({title:"添加成功",content:"添加成功, 是否跳转到详情查看?",cancelText:"再次添加",confirmText:"查看详情",success:function(e){e.confirm?(n.resetPageData(),t.navigateTo({url:"/pages/task/info?id="+a})):e.cancel&&n.resetPageData()}})})}}}}}).call(e,n(1).default)},57:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:"container container-gray"},[n("form",{staticClass:"group",attrs:{eventid:"oR8-4"},on:{submit:t.applySubmit,reset:t.resetPageData}},[n("view",{staticClass:"group-header"},[t._v("基本信息")]),n("view",{staticClass:"group-body"},[n("view",{staticClass:"input-list"},[n("view",{staticClass:"input-item"},[n("text",{staticClass:"input-item-label"},[t._v("标题:")]),n("view",{staticClass:"input-item-content"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.taskInfo.title,expression:"taskInfo.title"}],attrs:{"data-name":"title",placeholder:t.titlePlaceHolderMsg,maxlength:t.titleMaxLen,eventid:"Cz7-0"},domProps:{value:t.taskInfo.title},on:{input:[function(e){e.target.composing||(t.taskInfo.title=e.target.value)},t.bindChangeValue]}})])]),n("view",{staticClass:"input-item input-item-full"},[n("text",{staticClass:"input-item-label"},[t._v("内容:")]),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],attrs:{"data-name":"content",placeholder:t.contentPlaceHolderMsg,maxlength:t.contentMaxLen,value:t.taskInfo.content,eventid:"NqE-1"},domProps:{value:t.content},on:{input:[function(e){e.target.composing||(t.content=e.target.value)},t.bindChangeValue]}})]),n("view",{staticClass:"input-item"},[n("text",{staticClass:"input-item-label"},[t._v("有效期:")]),n("picker",{staticClass:"input-item-content",attrs:{"data-name":"stime",value:t.stime,start:"1970-01-01",end:"2020-12-31",mode:"date",eventid:"e6t-2"},on:{change:t.bindChangeValue}},[t._v(t._s(t.taskInfo.stime))]),n("picker",{staticClass:"input-item-content",attrs:{"data-name":"etime",value:t.etime,start:"1970-01-01",end:"2020-12-31",mode:"date",eventid:"46I-3"},on:{change:t.bindChangeValue}},[t._v(t._s(t.taskInfo.etime))])],1)])]),n("view",{staticClass:"btn-submit"},[n("button",{staticClass:"btn-block btn-green",attrs:{formType:"submit"}},[t._v("提交")]),n("button",{attrs:{type:"default",formType:"reset"}},[t._v("重置")])],1)])],1)};a._withStripped=!0;var i={render:a,staticRenderFns:[]};e.a=i}},[53]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/task/add.js.map