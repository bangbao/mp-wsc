require("../../common/manifest.js");
require("../../common/vendor.js");
global.webpackJsonp([9],{63:function(e,t,a){"use strict";var n=i(a(2)),s=i(a(64));function i(e){return e&&e.__esModule?e:{default:e}}Page((0,n.default)(s.default))},64:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(66),s=a.n(n),i=a(67),o=!1;var r=function(e){o||a(65)},u=a(0)(s.a,i.a,r,null,null);u.options.__file="..\\..\\..\\..\\data\\work\\ShareChat\\uniapp\\pages\\user\\edit.vue",u.esModule&&Object.keys(u.esModule).some(function(e){return"default"!==e&&"__"!==e.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),u.options.functional&&console.error("[vue-loader] edit.vue: functional components are not supported with templates, they should use render functions."),t.default=u.exports},65:function(e,t){},66:function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},s=a(3);t.default={data:function(){return{sex:0,sexName:"未知",nickname:"",sexChoices:[]}},onLoad:function(){this.resetPageData()},computed:(0,s.mapState)(["hasLogin","userInfo"]),methods:n({},(0,s.mapMutations)(["updateUserInfo"]),{resetPageData:function(){var e=this.userInfo;this.sex=e.sex,this.sexName=e.sex_name,this.nickname=e.nickname,this.sexChoices=["未知","男","女"]},bindInputValue:function(e){var t=e.detail.value;switch(e.currentTarget.dataset.name){case"nickname":this.nickname=t;break;default:return}},bindPickerChange:function(e){var t=e.detail.value;switch(e.currentTarget.dataset.name){case"sex":this.sex=t,this.sexName=this.sexChoices[t];break;default:return}},applySubmit:function(t){var a=this;if(this.nickname.length<1)e.showToast({title:"昵称不能为空",icon:"none"});else if(this.sex!=this.userInfo.sex||this.nickname!=this.userInfo.nickname){var n={nickname:this.nickname,sex:this.sex};console.log(n),this.app.httpPost("/api/user/modify",n,function(t){a.updateUserInfo(t.data.data.info),e.showToast({title:"保存成功",duration:300,mask:!0}),setTimeout(function(){a.resetPageData(),e.navigateBack({delta:1})},400)})}else e.showToast({title:"数据没有修改, 无需提交",icon:"none"})}})}}).call(t,a(1).default)},67:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("view",{staticClass:"container container-gray"},[a("view",{staticClass:"group"},[a("view",{staticClass:"group-header"},[e._v("基本信息")]),a("view",{staticClass:"group-body"},[a("view",{staticClass:"input-list"},[a("view",{staticClass:"input-item"},[a("text",{staticClass:"input-item-label"},[e._v("昵称:")]),a("view",{staticClass:"input-item-content"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.nickname,expression:"nickname"}],attrs:{"data-name":"nickname",placeholder:"请输入昵称, 1~20字",maxlength:"20",eventid:"byS-0"},domProps:{value:e.nickname},on:{input:[function(t){t.target.composing||(e.nickname=t.target.value)},e.bindInputValue]}})])]),a("view",{staticClass:"input-item"},[a("text",{staticClass:"input-item-label"},[e._v("性别:")]),a("picker",{staticClass:"input-item-content",attrs:{"data-name":"sex",range:e.sexChoices,mode:"selector",eventid:"fFJ-1"},on:{change:e.bindPickerChange},model:{value:e.sex,callback:function(t){e.sex=t},expression:"sex"}},[e._v(e._s(e.sexName))])],1)])])]),a("view",{staticClass:"btn-submit"},[a("button",{staticClass:"btn-commit",attrs:{eventid:"1Oo-2"},on:{tap:e.applySubmit}},[e._v("提交")])],1)])};n._withStripped=!0;var s={render:n,staticRenderFns:[]};t.a=s}},[63]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/user/edit.js.map