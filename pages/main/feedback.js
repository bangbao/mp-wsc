require("../../common/manifest.js");
require("../../common/vendor.js");
global.webpackJsonp([16],{83:function(e,t,s){"use strict";var a=n(s(2)),i=n(s(84));function n(e){return e&&e.__esModule?e:{default:e}}Page((0,a.default)(i.default))},84:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s(86),i=s.n(a),n=s(87),o=!1;var c=function(e){o||s(85)},r=s(0)(i.a,n.a,c,null,null);r.options.__file="..\\..\\..\\..\\data\\work\\ShareChat\\uniapp\\pages\\main\\feedback.vue",r.esModule&&Object.keys(r.esModule).some(function(e){return"default"!==e&&"__"!==e.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),r.options.functional&&console.error("[vue-loader] feedback.vue: functional components are not supported with templates, they should use render functions."),t.default=r.exports},85:function(e,t){},86:function(e,t,s){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){return{msgContents:["界面显示错乱","启动缓慢，卡出翔了","UI无法直视，丑哭了","偶发性崩溃"],stars:[1,2,3,4,5],imageList:[],imgLimit:1,sendDate:{score:0,content:"",contact:""}}},onLoad:function(){this.sendDate=Object.assign({p:"mpwx"},this.sendDate)},methods:{close:function(e){this.imageList.splice(e,1)},chooseMsg:function(){var t=this;e.showActionSheet({itemList:this.msgContents,success:function(e){t.sendDate.content=t.msgContents[e.tapIndex]}})},chooseImg:function(){var t=this;e.chooseImage({sourceType:["camera","album"],sizeType:"compressed",count:this.imgLimit-this.imageList.length,success:function(e){t.imageList=t.imageList.concat(e.tempFilePaths)}})},chooseStar:function(e){this.sendDate.score=e},previewImage:function(){e.previewImage({urls:this.imageList})},send:function(){console.log(JSON.stringify(this.sendDate));var t=this.imageList.map(function(e){return{name:"uni-app.feedback",uri:e}}),s=this.app,a=this;console.log(t),s.uploadFile("/api/feedback/add",t,this.sendDate,function(t){e.showToast({title:"反馈成功! "}),a.imageList=[],a.sendDate={score:0,content:"",contact:""}})}}}}).call(t,s(1).default)},87:function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("view",{staticClass:"page"},[s("view",{staticClass:"feedback-title"},[s("text",[e._v("问题和意见")]),s("text",{staticClass:"feedback-quick",attrs:{eventid:"Imj-0"},on:{tap:e.chooseMsg}},[e._v("快速键入")])]),s("view",{staticClass:"feedback-body"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.sendDate.content,expression:"sendDate.content"}],staticClass:"feedback-textare",attrs:{placeholder:"请详细描述你的问题和意见...",eventid:"ys7-1"},domProps:{value:e.sendDate.content},on:{input:function(t){t.target.composing||(e.sendDate.content=t.target.value)}}})]),e._m(0),s("view",{staticClass:"feedback-body feedback-uploader"},[s("view",{staticClass:"uni-uploader"},[s("view",{staticClass:"uni-uploader-head"},[s("view",{staticClass:"uni-uploader-title"},[e._v("点击预览图片")]),s("view",{staticClass:"uni-uploader-info"},[e._v(e._s(e.imageList.length)+"/"+e._s(e.imgLimit))])]),s("view",{staticClass:"uni-uploader-body"},[s("view",{staticClass:"uni-uploader__files"},[e._l(e.imageList,function(t,a){return s("block",{key:a},[s("view",{staticClass:"uni-uploader__file",staticStyle:{position:"relative"}},[s("image",{staticClass:"uni-uploader__img",attrs:{src:t,eventid:"jEo-2-"+a},on:{tap:e.previewImage}}),s("view",{staticClass:"close-view",attrs:{eventid:"G5K-3-"+a},on:{click:function(t){e.close(a)}}},[e._v("x")])])])}),s("view",{directives:[{name:"show",rawName:"v-show",value:e.imageList.length<e.imgLimit,expression:"imageList.length < imgLimit"}],staticClass:"uni-uploader__input-box"},[s("view",{staticClass:"uni-uploader__input",attrs:{eventid:"9dY-4"},on:{tap:e.chooseImg}})])],2)])])]),e._m(1),s("view",{staticClass:"feedback-body"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.sendDate.contact,expression:"sendDate.contact"}],staticClass:"feedback-input",attrs:{placeholder:"(选填,方便我们联系你 )",eventid:"wRq-5"},domProps:{value:e.sendDate.contact},on:{input:function(t){t.target.composing||(e.sendDate.contact=t.target.value)}}})]),s("view",{staticClass:"feedback-title feedback-star-view"},[s("text",[e._v("应用评分")]),s("view",{staticClass:"feedback-star-view"},e._l(e.stars,function(t,a){return s("text",{key:a,staticClass:"feedback-star",class:a<e.sendDate.score?"active":"",attrs:{eventid:"RMT-6-"+a},on:{tap:function(s){e.chooseStar(t)}}})}))]),s("button",{staticClass:"feedback-submit",attrs:{type:"primary",eventid:"9Y1-7"},on:{tap:e.send}},[e._v("提交")]),e._m(2)],1)};a._withStripped=!0;var i={render:a,staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("view",{staticClass:"feedback-title"},[t("text",[this._v("图片(选填,提供问题截图,总大小10M以下)")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("view",{staticClass:"feedback-title"},[t("text",[this._v("QQ/邮箱/手机")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("view",{staticClass:"feedback-title"},[t("text",[this._v("用户反馈的结果可在app打包后于DCloud开发者中心查看")])])}]};t.a=i}},[83]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/main/feedback.js.map