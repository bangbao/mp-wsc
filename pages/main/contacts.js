require("../../common/manifest.js");
require("../../common/vendor.js");
global.webpackJsonp([17],{18:function(t,e,a){"use strict";var s=n(a(2)),i=n(a(19));function n(t){return t&&t.__esModule?t:{default:t}}Page((0,s.default)(i.default))},19:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(21),i=a.n(s),n=a(22),o=!1;var r=function(t){o||a(20)},l=a(0)(i.a,n.a,r,null,null);l.options.__file="..\\..\\..\\..\\data\\work\\ShareChat\\uniapp\\pages\\main\\contacts.vue",l.esModule&&Object.keys(l.esModule).some(function(t){return"default"!==t&&"__"!==t.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),l.options.functional&&console.error("[vue-loader] contacts.vue: functional components are not supported with templates, they should use render functions."),e.default=l.exports},20:function(t,e){},21:function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var s=a(3);e.default={data:function(){return{scrollLeft:0,tabIndex:0,orderby:"",showsearch:!1,searchtext:"",pagelist:[],pagination:{},page:0,page_size:10,loadingText:"",updatedTime:0,tabBars:[{name:"我的动态",id:"news"},{name:"我的好友",id:"friends"},{name:"我关注的人",id:"followeds"},{name:"关注我的人",id:"followers"}]}},onShow:function(){this.hasLogin&&(this.showMyTab=this.hasLogin,0==this.pagelist.length&&this.hasLogin&&this.reloadPageData())},onPullDownRefresh:function(){console.log("onPullDownRefresh",this),this.reloadPageData(),t.stopPullDownRefresh()},onReachBottom:function(){console.log("onReachBottom",this),this.fetchServerData()},onBackPress:function(){if(this.showMask)return this.showMask=!1,this.hide(),!0},computed:(0,s.mapState)(["hasLogin"]),methods:{reloadPageData:function(){this.resetPageData(),this.fetchServerData()},resetPageData:function(){this.pagelist=[],this.page=0,this.pagination={},this.updatedTime=0,this.loadingText=""},fetchServerData:function(){if(this.loadingText="加载更多...",this.pagination.pages<=this.page)this.loadingText="没有更多了";else{var t=this,e=this.page+1,a="/api/contact/"+this.tabBars[this.tabIndex].id,s={keywords:this.searchtext,page:e,page_size:this.page_size},i=this.app;i.httpGet(a,s,function(a){var s=a.data.data.pagelist,n=a.data.data.pagination,o=e;o=o<=n.pages?e:e-1,t.pagelist=t.pagelist.concat(s),t.pagination=n,t.page=o,t.updatedTime=i.getNowTime()})}},inputSearch:function(t){console.log("inputSearch",t.detail.value.length),this.showsearch=t.detail.value.length>=1,this.searchtext=t.detail.value,this.showsearch||this.reloadPageData()},submitSearch:function(){console.log("submitSearch",this.searchtext),this.resetPageData(),this.fetchServerData()},tapTab:function(e){console.log("tapTab, ",e),console.log("tapTab, ",e.target.dataset.current),this.hasLogin?(this.tabIndex=e.target.dataset.current,this.reloadPageData()):t.showToast({icon:"none",title:"登陆后才能选择"})},gotoContactInfo:function(e){console.log("gotoContactInfo",e),t.navigateTo({url:"../main/contactinfo?id="+e.id})}}}}).call(e,a(1).default)},22:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:"index"},[a("scroll-view",{staticClass:"swiper-tab",attrs:{id:"tab-bar","scroll-x":"","scroll-left":t.scrollLeft}},t._l(t.tabBars,function(e,s){return a("view",{key:e.id,class:["swiper-tab-list",t.tabIndex==s?"active":""],attrs:{id:e.id,"data-current":s,eventid:"UVe-0-"+s},on:{tap:t.tapTab}},[t._v(t._s(e.name))])})),a("view",{staticClass:"search-flex"},[a("view",{staticClass:"search-bar"},[a("input",{attrs:{type:"text",maxlength:"20",placeholder:"搜索",eventid:"Dt8-1"},on:{input:t.inputSearch}}),t.showsearch?a("button",{staticClass:"search-btn",attrs:{eventid:"Ab8-2"},on:{tap:t.submitSearch}},[t._v("搜索")]):t._e()],1)]),a("view",{staticClass:"uni-list"},t._l(t.pagelist,function(e,s){return a("view",{key:e.id,staticClass:"uni-list-cell",attrs:{"hover-class":"uni-list-cell-hover"}},[e.creator?a("view",{staticClass:"uni-media-list",attrs:{eventid:"v8u-3-"+s},on:{tap:function(a){t.gotoContactInfo(e.creator)}}},[a("view",{staticClass:"uni-media-list-logo"},[a("image",{attrs:{src:e.creator.avatar}})]),a("view",{staticClass:"uni-media-list-body"},[a("view",{staticClass:"uni-media-list-text-top"},[t._v("昵称: "+t._s(e.creator.nickname))]),a("view",{staticClass:"uni-media-list-text-bottom uni-ellipsis"},[t._v(t._s(e.content))])])]):t._e(),e.target?a("view",{staticClass:"uni-media-list",attrs:{eventid:"NxP-4-"+s},on:{tap:function(a){t.gotoContactInfo(e.target)}}},[a("view",{staticClass:"uni-media-list-logo"},[a("image",{attrs:{src:e.target.avatar}})]),a("view",{staticClass:"uni-media-list-body"},[a("view",{staticClass:"uni-media-list-text-top"},[t._v("昵称: "+t._s(e.target.nickname))]),a("view",{staticClass:"uni-media-list-text-bottom uni-ellipsis"},[t._v("性别: "+t._s(e.target.sex_name))])])]):t._e()])}))],1)};s._withStripped=!0;var i={render:s,staticRenderFns:[]};e.a=i}},[18]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/main/contacts.js.map