require("../../common/manifest.js");
require("../../common/vendor.js");
global.webpackJsonp([18],{100:function(t,a){},101:function(t,a,i){"use strict";(function(t){Object.defineProperty(a,"__esModule",{value:!0}),a.default={data:function(){return{id:null,contactInfo:{},group_id:null}},onLoad:function(t){this.id=t.id,this.reloadPageData()},methods:{reloadPageData:function(){this.resetPageData(),this.fetchServerData()},resetPageData:function(){this.contactInfo={}},fetchServerData:function(){var t=this,a={id:this.id};this.app.httpGet("/api/contact/contactinfo",a,function(a){t.contactInfo=a.data.data.info})},doFollowUser:function(a){var i=this,o={id:this.id};this.app.httpPost("/api/contact/follow",o,function(o){o.data.data.flag?t.showToast({title:"关注成功",icon:"none"}):t.showModal({content:"是否要撤回此操作？",success:function(t){t.confirm&&i.doUnFollowUser(a)}})})},doUnFollowUser:function(a){var i={id:this.id,cancel:!0};this.app.httpPost("/api/contact/follow",i,function(a){a.data.data.flag?t.showToast({title:"取消关注成功",icon:"none"}):t.showToast({title:"无需重复操作",icon:"none"})})},doApplyFriend:function(a){var i={id:this.id};this.app.httpPost("/api/contact/applyfriend",i,function(a){a.data.data.flag?t.showToast({title:"申请成功",icon:"none"}):t.showToast({title:"重复操作",icon:"none"})})},gotoChat:function(a){if(this.group_id)t.navigateTo({url:"../chat/chat?group_id={0}&title={1}".format(this.group_id,this.contactInfo.nickname)});else{var i=this,o={target_id:this.id};this.app.httpPost("/api/chat/creategroup",o,function(a){var o=a.data.data.group,n=o.id;i.group_id=n,i.app.setCache(n,o),t.navigateTo({url:"../chat/chat?group_id={0}&title={1}".format(i.group_id,i.contactInfo.nickname)})})}}}}}).call(a,i(1).default)},102:function(t,a,i){"use strict";var o=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("view",{staticClass:"page"},[i("view",{staticClass:"uni-list"},[i("view",{staticClass:"uni-list-cell",attrs:{"hover-class":"uni-list-cell-hover"}},[i("view",{staticClass:"uni-media-list "},[i("view",{staticClass:"uni-media-list-logo"},[i("image",{attrs:{src:t.contactInfo.avatar}})]),i("view",{staticClass:"uni-media-list-body"},[i("view",{staticClass:"uni-media-list-text-top"},[t._v("昵称: "+t._s(t.contactInfo.nickname))]),i("view",{staticClass:"uni-media-list-text-bottom uni-ellipsis"},[t._v("性别: "+t._s(t.contactInfo.sex_name))])])])])]),i("view",{staticClass:"uni-list"},[i("view",{staticClass:"uni-list-cell",attrs:{"hover-class":"uni-list-cell-hover"}},[i("view",{staticClass:"uni-media-list-body"},[i("view",{staticClass:"uni-media-list-text-top"},[t._v("粉丝:"+t._s(t.contactInfo.follower_num))]),i("view",{staticClass:"uni-media-list-text-bottom"},[t._v("关注:"+t._s(t.contactInfo.followed_num))])])])]),i("view",{staticClass:"action-row"},[i("button",{staticClass:"mini-btn",attrs:{type:"primary",eventid:"5BE-0"},on:{tap:t.doFollowUser}},[t._v("去关注")]),i("button",{staticClass:"mini-btn",attrs:{type:"primary",eventid:"bgB-1"},on:{tap:t.doApplyFriend}},[t._v("加好友")])],1),i("view",{staticClass:"btn-row"},[i("button",{staticClass:"btn-commit",attrs:{type:"primary",eventid:"dZH-2"},on:{tap:t.gotoChat}},[t._v("发消息")])],1)])};o._withStripped=!0;var n={render:o,staticRenderFns:[]};a.a=n},98:function(t,a,i){"use strict";var o=e(i(2)),n=e(i(99));function e(t){return t&&t.__esModule?t:{default:t}}Page((0,o.default)(n.default))},99:function(t,a,i){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var o=i(101),n=i.n(o),e=i(102),s=!1;var c=function(t){s||i(100)},l=i(0)(n.a,e.a,c,null,null);l.options.__file="..\\..\\..\\..\\data\\work\\ShareChat\\uniapp\\pages\\main\\contactinfo.vue",l.esModule&&Object.keys(l.esModule).some(function(t){return"default"!==t&&"__"!==t.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),l.options.functional&&console.error("[vue-loader] contactinfo.vue: functional components are not supported with templates, they should use render functions."),a.default=l.exports}},[98]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/main/contactinfo.js.map